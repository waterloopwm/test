<!DOCTYPE html>
<html>
    <head>
        <title>
            111
        </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        </meta>
    </head>
    <body>
        <div action="tzAllSelect" length="7" random="sscRandom">
            <input class="code min s" type="button"  value="0"/>
            <input class="code min d" type="button"  value="1"/>
            <input class="code min s" type="button"  value="2"/>
            <input class="code min d" type="button"  value="3"/>
            <input class="code min s" type="button"  value="4"/>
            <input class="code max d" type="button"  value="5"/>
            <input class="code max s" type="button"  value="6"/>
            <input class="code max d" type="button"  value="7"/>
            <input class="code max s" type="button"  value="8"/>
            <input class="code max d" type="button"  value="9"/>
            <input class="action none" type="button" value="清"/>
            <input class="action even" type="button" value="双"/>
            <input class="action odd" type="button" value="单"/>
            <input class="action small" type="button" value="小"/>
            <input class="action large" type="button" value="大"/>
            <input type="button" value="全"  class="action all" />
        </div>
        <div action="tzAllSelect" length="7" random="sscRandom">
            <input class="code min s" type="button" value="0"/>
            <input class="code min d" type="button" value="1"/>
            <input class="code min s" type="button" value="2"/>
            <input class="code min d" type="button" value="3"/>
            <input class="code min s" type="button" value="4"/>
            <input class="code max d" type="button" value="5"/>
            <input class="code max s" type="button" value="6"/>
            <input class="code max d" type="button" value="7"/>
            <input class="code max s" type="button" value="8"/>
            <input class="code max d" type="button" value="9"/>
            <input class="action none" type="button" value="清"/>
            <input class="action even" type="button" value="双"/>
            <input class="action odd" type="button" value="单"/>
            <input class="action small" type="button" value="小"/>
            <input class="action large" type="button" value="大"/>
            <input type="button" value="全"  class="action all" />
        </div>
        <div action="tzAllSelect" length="7" random="sscRandom">
            <input class="code min s" type="button" value="0"/>
            <input class="code min d" type="button" value="1"/>
            <input class="code min s" type="button" value="2"/>
            <input class="code min d" type="button" value="3"/>
            <input class="code min s" type="button" value="4"/>
            <input class="code max d" type="button" value="5"/>
            <input class="code max s" type="button" value="6"/>
            <input class="code max d" type="button" value="7"/>
            <input class="code max s" type="button" value="8"/>
            <input class="code max d" type="button" value="9"/>
            <input class="action none" type="button" value="清"/>
            <input class="action even" type="button" value="双"/>
            <input class="action odd" type="button" value="单"/>
            <input class="action small" type="button" value="小"/>
            <input class="action large" type="button" value="大"/>
            <input type="button" value="全"  class="action all" />
        </div>
        <div action="tzAllSelect" length="7" random="sscRandom">
            <input class="code min s" type="button" value="0"/>
            <input class="code min d" type="button" value="1"/>
            <input class="code min s" type="button" value="2"/>
            <input class="code min d" type="button" value="3"/>
            <input class="code min s" type="button" value="4"/>
            <input class="code max d" type="button" value="5"/>
            <input class="code max s" type="button" value="6"/>
            <input class="code max d" type="button" value="7"/>
            <input class="code max s" type="button" value="8"/>
            <input class="code max d" type="button" value="9"/>
            <input class="action none" type="button" value="清"/>
            <input class="action even" type="button" value="双"/>
            <input class="action odd" type="button" value="单"/>
            <input class="action small" type="button" value="小"/>
            <input class="action large" type="button" value="大"/>
            <input type="button" value="全"  class="action all" />
        </div>
        <div action="tzAllSelect" length="7" random="sscRandom">
            <input class="code min s" type="button" value="0"/>
            <input class="code min d" type="button" value="1"/>
            <input class="code min s" type="button" value="2"/>
            <input class="code min d" type="button" value="3"/>
            <input class="code min s" type="button" value="4"/>
            <input class="code max d" type="button" value="5"/>
            <input class="code max s" type="button" value="6"/>
            <input class="code max d" type="button" value="7"/>
            <input class="code max s" type="button" value="8"/>
            <input class="code max d" type="button" value="9"/>
            <input class="action none" type="button" value="清"/>
            <input class="action even" type="button" value="双"/>
            <input class="action odd" type="button" value="单"/>
            <input class="action small" type="button" value="小"/>
            <input class="action large" type="button" value="大"/>
            <input type="button" value="全"  class="action all" />
        </div>
        <div action="tzAllSelect" length="7" random="sscRandom">
            <input class="code min s" type="button" value="0"/>
            <input class="code min d" type="button" value="1"/>
            <input class="code min s" type="button" value="2"/>
            <input class="code min d" type="button" value="3"/>
            <input class="code min s" type="button" value="4"/>
            <input class="code max d" type="button" value="5"/>
            <input class="code max s" type="button" value="6"/>
            <input class="code max d" type="button" value="7"/>
            <input class="code max s" type="button" value="8"/>
            <input class="code max d" type="button" value="9"/>
            <input class="action none" type="button" value="清"/>
            <input class="action even" type="button" value="双"/>
            <input class="action odd" type="button" value="单"/>
            <input class="action small" type="button" value="小"/>
            <input class="action large" type="button" value="大"/>
            <input type="button" value="全"  class="action all" />
        </div>
        <div action="tzAllSelect" length="7" random="sscRandom">
            <input class="code min s" type="button" value="0"/>
            <input class="code min d" type="button" value="1"/>
            <input class="code min s" type="button" value="2"/>
            <input class="code min d" type="button" value="3"/>
            <input class="code min s" type="button" value="4"/>
            <input class="code max d" type="button" value="5"/>
            <input class="code max s" type="button" value="6"/>
            <input class="code max d" type="button" value="7"/>
            <input class="code max s" type="button" value="8"/>
            <input class="code max d" type="button" value="9"/>
            <input class="action none" type="button" value="清"/>
            <input class="action even" type="button" value="双"/>
            <input class="action odd" type="button" value="单"/>
            <input class="action small" type="button" value="小"/>
            <input class="action large" type="button" value="大"/>
            <input type="button" value="全"  class="action all" />
        </div>
        <input class="submit" type="button" value="submit"/>
    </body>
    <script src="./js/jquery-1.8.3.min.js">
    </script>
    <script type="text/javascript">
		/**
		 * 获得从m中取n的所有组合
		 */
		function groupSplit (arr, size) {
		  var r = []; //result
		  function _(t, a, n) { //tempArr, arr, num
		    if (n === 0) {
		      r[r.length] = t;
		      return;
		    }
		    for (var i = 0, l = a.length - n; i <= l; i++) {
		      var b = t.slice();
		      b.push(a[i]);
		      _(b, a.slice(i + 1), n - 1);
		    }
		  }
		  _([], arr, size);
		  return r.length;
		}
		//var a = [5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9,5,6,7,8,9];
		//console.log(groupSplit(a,7));

		$(function(){
			$("input.code").click(function(){
				$(this).addClass('checked');
			})
			$('input.action').live('click', function(){
				var $this=$(this),
				call=$this.attr('action'),
				pp=$this.parent();
				$this.addClass("on").siblings(".action").removeClass("on");
				if(call && $.isFunction(call=window[call])){
					call.call(this, pp);
				}else if($this.is('.all')){
					$('input.code',pp).addClass('checked');
				}else if($this.is('.large')){
					$('input.code.max',pp).addClass('checked');
					$('input.code.min',pp).removeClass('checked');
				}else if($this.is('.small')){
					$('input.code.min',pp).addClass('checked');
					$('input.code.max',pp).removeClass('checked');
				}else if($this.is('.odd')){
					$('input.code.d',pp).addClass('checked');
					$('input.code.s',pp).removeClass('checked');
				}else if($this.is('.even')){
					$('input.code.s',pp).addClass('checked');
					$('input.code.d',pp).removeClass('checked');
				}else if($this.is('.none')){
					$('input.code',pp).removeClass('checked');
				}
			});

			$(".submit").click(function(){
				var code=[], len=1,codeLen=parseInt($("div[action='tzAllSelect']").attr('length')), delimiter=$("div[action='tzAllSelect']").attr('delimiter')||"";
				if($("div[action='tzAllSelect']").has('.checked').length!=codeLen){
					alert('请选'+codeLen+'位数字');
					//return false;
				}
				$("div[action='tzAllSelect']").each(function(i){
					var $code=$('input.code.checked', this);
					if($code.length==0){
						code[i]='-';
					}else{
						len*=$code.length;
						code[i]=[];
						$code.each(function(){
							code[i].push(this.value);
						});
						code[i]=code[i].join(delimiter);
					}
				});
				alert(code);
				alert(len);
				//return {actionData:code.join(','), actionNum:len};
			})
		})
    </script>
</html>